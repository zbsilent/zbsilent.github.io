(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{433:function(t,_,v){"use strict";v.r(_);var e=v(54),n=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"nc-cloud-openapi"}},[t._v("NC Cloud OpenAPI")]),t._v(" "),v("hr"),t._v(" "),v("p",[t._v("⚠️  "),v("font",{attrs:{color:"red"}},[t._v("本文仅供内部交付人员参考学习，且针对版本为NCC2005及以上版本，产品缺失及其他异常均可提交集团产品处理。（另U8C也提供了对应的付费产品）")])],1),t._v(" "),v("p",[t._v("​\t"),v("font",{attrs:{color:"red"}},[t._v("OpenApi是用友提供的产品公开接口，包含在软件基础平台中并附相关的文档、接口清单，具备开发能力的组织都可以进行使用。与此同时，用友只提供OpenApi相关接口功能和手册，在标准服务中不包含相关的开发、指导、协助、测试等服务内容。如果需要用友提供相关服务和开发支持工作，需要签署相关的合同。")])],1),t._v(" "),v("p",[t._v("附:"),v("a",{attrs:{href:"https://nccdev.yonyou.com/openapi/doc",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenAPI接口文档"),v("OutboundLink")],1)]),t._v(" "),v("h2",{attrs:{id:"说明"}},[t._v("说明")]),t._v(" "),v("p",[t._v("​    API的全称是应用"),v("a",{attrs:{href:"https://baike.baidu.com/item/%E7%BC%96%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"}},[t._v("编程"),v("OutboundLink")],1),t._v("接口（Application Programming Interface），这并不是一个新概念，在"),v("a",{attrs:{href:"https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/2310",target:"_blank",rel:"noopener noreferrer"}},[t._v("计算机操作系统"),v("OutboundLink")],1),t._v("出现的早期就已经存在了。在互联网时代，把网站的服务封装成一系列计算机易识别的数据接口开放出去，供第三方开发者使用，这种行为就叫做开放网站的API，与之对应的，所开放的API就被称作openAPI。")]),t._v(" "),v("p",[t._v("​\tNCCloud 1903及以上版本均开放了对应版本的基础档案、业务单据的接口以满足第三方开发者的使用。区别NC各版本，NCC产品更加开放，随着后续产品的迭代，外系统接口服务将均采用OpenAPI实现。")]),t._v(" "),v("p",[t._v("​\tOpenAPI接口文档地址 https://nccdev.yonyou.com/openapi/doc，使用前请按照对接信息确认接口是否满足需求。")]),t._v(" "),v("h2",{attrs:{id:"系统配置"}},[t._v("系统配置")]),t._v(" "),v("p",[t._v("Openapi做了权限控制和OAuth2安全控制。使用openapi的完整步骤如下：")]),t._v(" "),v("h3",{attrs:{id:"_1、访问nccloud开放管理平台"}},[t._v("1、访问NCCloud开放管理平台")]),t._v(" "),v("blockquote",[v("p",[t._v("http://ip:prot/nccloud/resources/opm/ "),v("font",{attrs:{color:"red"}},[t._v("系统管理员管理员权限登录")])],1)]),t._v(" "),v("h3",{attrs:{id:"_2、注册第三方应用-可以使用openapi的应用"}},[t._v("2、注册第三方应用（可以使用openapi的应用）")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331134329237.png",alt:"image-20220331134329237"}})]),t._v(" "),v("blockquote",[v("p",[t._v("⚠️ "),v("font",{attrs:{color:"red"}},[t._v("down load 链接下载的文档各版本略有不同，且只提供java请求示例 供第三方研发使用")])],1)]),t._v(" "),v("h3",{attrs:{id:"_3、注册页面说明"}},[t._v("3、注册页面说明")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331134944136.png",alt:"image-20220331134944136"}})]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331135015709.png",alt:"image-20220331135015709"}})]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331135044152.png",alt:"image-20220331135044152"}})]),t._v(" "),v("h3",{attrs:{id:"_4、可访问api分配"}},[t._v("4、可访问API分配")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331135120284.png",alt:"image-20220331135120284"}})]),t._v(" "),v("p",[t._v("分配后效果如下")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331135204931.png",alt:"image-20220331135204931"}})]),t._v(" "),v("h3",{attrs:{id:"_5、第三方对接需提供的相关信息说明"}},[t._v("5、第三方对接需提供的相关信息说明")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("字段编码")]),t._v(" "),v("th",[t._v("字段名称")]),t._v(" "),v("th",[t._v("字段类型")]),t._v(" "),v("th",[t._v("取值范围/枚举")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("grant_type")]),t._v(" "),v("td",[t._v("授权模式")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("第三方参照开发文档可选")])]),t._v(" "),v("tr",[v("td",[t._v("client_id")]),t._v(" "),v("td",[t._v("第三方应用 id")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("NCC 系统设置 ⚠️ 即APPID")])]),t._v(" "),v("tr",[v("td",[t._v("client_secret")]),t._v(" "),v("td",[t._v("第三方应用注册当中的 app_secret")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("NCC 系统设置 ⚠️ 即app_secret")])]),t._v(" "),v("tr",[v("td",[t._v("biz_center")]),t._v(" "),v("td",[t._v("访问的 nccloud 系统的账套")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("如 001 NCC 系统设置 ⚠️ 帐套编码")])]),t._v(" "),v("tr",[v("td",[t._v("dsname")]),t._v(" "),v("td",[t._v("数据源名称")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("如开发环境 design 其他环境自行提供")])]),t._v(" "),v("tr",[v("td",[t._v("usercode")]),t._v(" "),v("td",[t._v("默认用户")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("NCC 用户编码")])]),t._v(" "),v("tr",[v("td",[t._v("signature")]),t._v(" "),v("td",[t._v("请求加签(各版本算法略有区别)")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("请求加签，其算法为 SHA256Util.getSHA256(client_id + client_secret + pubKey,pubkey) ⚠️ 其中 pubKey 为第三方应用注册当中的公钥字段")])]),t._v(" "),v("tr",[v("td",[t._v("mediaType")]),t._v(" "),v("td",[t._v("content-Type")]),t._v(" "),v("td",[t._v("String")]),t._v(" "),v("td",[t._v("application/x-www-form-urlencoded")])])])]),t._v(" "),v("h2",{attrs:{id:"其他"}},[t._v("其他")]),t._v(" "),v("h3",{attrs:{id:"_1、nccloud开放管理平台-download的文件-可直接提java请求实例给第三方-无需ncc开发人员提供"}},[v("em",[t._v("1、NCCloud开放管理平台 download的文件，可直接提java请求实例给第三方,无需NCC开发人员提供")])]),t._v(" "),v("h3",{attrs:{id:"_2、https-nccdev-yonyou-com-openapi-doc-官方提供接口文档注册时候会略有出入-可以参考后台-opm-apimanager-表进行核对"}},[v("em",[t._v("2、https://nccdev.yonyou.com/openapi/doc 官方提供接口文档注册时候会略有出入，可以参考后台 opm_apimanager 表进行核对")])]),t._v(" "),v("h3",{attrs:{id:"_3、接口均不提供查询接口-可参考https-nccdev-yonyou-com-openapi-doc"}},[t._v("3、"),v("em",[t._v("接口均不提供查询接口 可参考https://nccdev.yonyou.com/openapi/doc")])]),t._v(" "),v("h3",{attrs:{id:"_4、以币种基础档案示范-该图来源于https-nccdev-yonyou-com-openapi-doc"}},[t._v("4、以币种基础档案示范 该图来源于https://nccdev.yonyou.com/openapi/doc")]),t._v(" "),v("p",[v("img",{attrs:{src:"https://raw.githubusercontent.com/zbsilent/imag/main/img/2022/image-20220331140643398.png",alt:"image-20220331140643398"}})]),t._v(" "),v("h4",{attrs:{id:"_1、请求地址为接口访问地址"}},[t._v("1、请求地址为接口访问地址")]),t._v(" "),v("h4",{attrs:{id:"_2、post为接口请求方式-第三方开发人员会自行按照post方式处理不做过多解释"}},[t._v("2、POST为接口请求方式 第三方开发人员会自行按照post方式处理不做过多解释")]),t._v(" "),v("h4",{attrs:{id:"_3、请求参数指-请求体参数-请求头参数参考-【系统配置-5】外系统使用人员会自行索要"}},[t._v("3、请求参数指 请求体参数，"),v("font",{attrs:{color:"red"}},[t._v("请求头参数参考 【系统配置 5】外系统使用人员会自行索要")])],1),t._v(" "),v("h4",{attrs:{id:"_4、文档均提供请求参数势力和返回参数示例-具体请自行参考文档"}},[t._v("4、文档均提供请求参数势力和返回参数示例 具体请自行参考文档")])])}),[],!1,null,null,null);_.default=n.exports}}]);